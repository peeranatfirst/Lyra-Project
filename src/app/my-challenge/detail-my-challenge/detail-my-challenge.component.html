<div *ngIf="detailMyChallenge">
  <div class="container">
    <div class="row detailcard">
        <div class="col-sm-3 flex-first"></div>
        <div class="col-sm-3 flex-last"></div>
      <div class="col-sm-6">
        <div class="card">
          <div class="card-block">
            <div class="row detailcontent">
              <div class="col-sm-5">
                <h3 class="card-title chaName"><b>{{detailMyChallenge.challengeName}}</b></h3>
                <p class="card-text">{{detailMyChallenge.challengeDescription}}</p>
                <p class="card-text">Duration(days) : {{detailMyChallenge.duration}} Days</p>
                <p class="card-text">Goal Amount : {{detailMyChallenge.totalAmount | currency:'THB':true:'1.0-0'}} Baht</p>
                <p class="card-text">Total Amount : {{currentBalance | currency:'THB':true:'1.0-0'}} Baht</p>
                <p class="card-text">Status : {{detailMyChallenge.challengeStatus}}<br>
                  <p class="card-text">Start Date: {{startDate}}<br>
                    <span *ngIf="detailMyChallenge.challengeStatus != 'Achieved'">
            <h5><span class="badge badge-default">{{percent | number:'1.0-0'}}%</span></h5>
                    </span>
                    <span *ngIf="detailMyChallenge.challengeStatus == 'Achieved'">
            <h5><span class="badge badge-success">{{percent | number:'1.0-0'}}% Success</span></h5>
                    </span>
                  </p>
                  <div class="row">
                    <div class=".col-xs-6 .col-md-4">
                      <span *ngIf="detailMyChallenge.challengeStatus == 'Achieved'">
                    <a class="btn btn-success btn-add disabled" aria-disabled="true">
                      <i class="fa fa-dollar fa-lg" aria-hidden="true"></i> Add Money
                    </a>
                  </span>
                      <span *ngIf="detailMyChallenge.challengeStatus == 'Cancelled'">
                    <a class="btn btn-success btn-add disabled" aria-disabled="true">
                      <i class="fa fa-dollar fa-lg" aria-hidden="true"></i> Add Money
                    </a>
                  </span>

                      <span *ngIf="detailMyChallenge.challengeStatus == 'processing' ">
                    <a [routerLink]="['/addmoney/'+detailMyChallenge.$key]" class="btn btn-success btn-add">
                      <i class="fa fa-dollar fa-lg" aria-hidden="true"></i> Add Money
                    </a>
                  </span>
                      <br><br>
                    </div>
                    <div class=".col-xs-6 .col-md-4">
                      <span class="delete" *ngIf="detailMyChallenge.challengeStatus == 'processing'">
                    <a (click)="onCancelChallenge()" role="button" class="btn btn-danger bth-delete">
                      <i class="fa fa-trash-o fa-lg" aria-hidden="true"></i> Cancel Challenge
                    </a>
                  </span>
                      <span class="delete" *ngIf="detailMyChallenge.challengeStatus == 'Achieved'">
                    <a (click)="onDeleteChallenge()" role="button" class="btn btn-danger bth-delete">
                      <i class="fa fa-trash-o fa-lg" aria-hidden="true"></i> Delete Challenge
                    </a>
                  </span>
                      <span class="delete" *ngIf="detailMyChallenge.challengeStatus == 'Cancelled'">
                    <a (click)="onDeleteChallenge()" role="button" class="btn btn-danger bth-delete">
                      <i class="fa fa-trash-o fa-lg" aria-hidden="true"></i> Delete Challenge
                    </a>
                  </span>
                      <br><br>
                    </div>
                  </div>
              </div>
              <!--<div class="col-sm-7">
                <img src="{{imgURL}}" class="img-fluid">
              </div>-->
            </div>

          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12" align="center">
        <br>
        <a class="btn btn-primary" data-toggle="collapse" href="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
          <i class="fa fa-eye fa-lg" aria-hidden="true"></i> View Transactions
          </a>
        <a [routerLink]="['/mychallenge']" class="btn btn-danger">
            <i class="fa fa-chevron-left fa-lg" aria-hidden="true"></i> Back
        </a>
        <br>
      </div>
    </div>
    <br />
    <div class="collapse" id="collapseExample">
      <div class="card">
        <table class="Transaction">
          <tr>
            <td class="Tran">
              <h3>Transactions</h3>
            </td>
            <td class="x">
              <button type="button" class="close" aria-label="Close" data-toggle="collapse" href="#collapseExample" aria-expanded="false"
                aria-controls="collapseExample">
            <span aria-hidden="true">&times;</span>
          </button>
            </td>
          </tr>
        </table>

        <table class="table table-bordered table-hover table-responsive">
          <thead>
            <tr>
              <th class="No">No.</th>
              <th class="Date">Date</th>
              <th class="Time">Time</th>
              <th class="Balance">Balance</th>
              <th class="Delete"></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let cha of detailMyTransaction; let i=index;">
              <th>{{i+1}}</th>
              <td>{{cha.datestamp}}</td>
              <td>{{cha.timestamp}}</td>
              <td>{{cha.balance | currency:'THB':true:'1.2-2'}}</td>
              <td *ngIf="detailMyChallenge.challengeStatus == 'processing'">
                <span>
                <a (click)="onDeleteTransaction(cha.key)" role="button" class="btn btn-danger">
                      <i class="fa fa-trash-o fa-lg" aria-hidden="true"></i>
                    </a>
              </span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <br>
  </div>
</div>